{"_id":"5e7f2bd682eb69b8d2751e96","name":"New Application","initScript":"// Application\nif (State.usersReducer.apps.find(app => app.settings.name === Parameters.Name)) {\n    const error = 'Application with the same name exists'\n    Store.dispatch({ type: \"SET_ERROR\", error: error })\n    return false\n}\n\nconst defaultTemplate = State.templatesReducer.templates.filter(template => template.default )\nState.templatesReducer.loadedTemplate = defaultTemplate[0]\nconst username = aptugo.friendly(State.auth.user.name)\nconst dbpassword = aptugo.generateID() + aptugo.generateID()\nconst appname = aptugo.friendly(Parameters.Name)\nconst dbusername = username + appname\nApplication.settings = {\n    name: Parameters.Name || 'Untitled Application',\n    development: {\n      apiURL: `http://localhost:4567`,\n      type: 'Local',\n      folder: appname,\n      template: defaultTemplate ? defaultTemplate[0]._id : '',\n      url: `https://${appname.toLowerCase()}_${username.toLowerCase()}.aptugo.com`,\n      dbconnectstring: `mongodb://localhost:27017/${username}`\n    },\n    production: {\n      apiURL: `https://${appname}.aptugo.com:3456`,\n      type: 'Local',\n      folder: appname,\n      template: defaultTemplate ? defaultTemplate[0]._id : '',\n      url: `https://${appname.toLowerCase()}.aptugo.com`,\n      dbconnectstring: `mongodb://${dbusername}:${dbpassword}@localhost:27017/${username}?authSource=admin`\n    }\n}\n\naptugo.createdbuser({ dbName: username, user: dbusername, pwd: dbpassword })\n\nApplication._id = aptugo.generateID(16)\nreturn Application\n","post_initScript":"\nApplication.loaded = true\nreturn Application","code":"const dashboardID = aptugo.generateID()\n\nApplication.pages = [{\n\t\"name\": \"Application Root\",\n\t\"type\": \"page\",\n\t\"subtype\": \"cascade\",\n\t\"prevent_delete\": true,\n\t\"children\": [{\n\t\t\"name\": \"Before Page Render\",\n\t\t\"type\": \"element\",\n\t\t\"value\": \"bpr\",\n\t\t\"prevent_delete\": true\n\t}, {\n\t\t\"name\": \"Page Header\",\n\t\t\"type\": \"element\",\n\t\t\"value\": \"ph\",\n\t\t\"prevent_delete\": true,\n\t\t\"children\": [{\n\t\t\t\"name\": \"State mgmt for sidebar\",\n\t\t\t\"prevent_delete\": false,\n\t\t\t\"cascades\": true,\n\t\t\t\"type\": \"element\",\n\t\t\t\"value\": \"useState\",\n\t\t\t\"values\": {\n\t\t\t\t\"variableName\": \"sidebarOpen\",\n\t\t\t\t\"defaultValue\": \"true\"\n\t\t\t}\n\t\t}, {\n\t\t\t\"name\": \"Function for sidebar toggle\",\n\t\t\t\"prevent_delete\": false,\n\t\t\t\"cascades\": true,\n\t\t\t\"type\": \"element\",\n\t\t\t\"value\": \"function\",\n\t\t\t\"values\": {\n\t\t\t\t\"functionName\": \"handleDrawerToggle\",\n\t\t\t\t\"functionBody\": \"setsidebarOpen( !sidebarOpen )\"\n\t\t\t}\n\t\t}]\n\t}, {\n\t\t\"name\": \"Body\",\n\t\t\"type\": \"element\",\n\t\t\"value\": \"b\",\n\t\t\"prevent_delete\": true,\n\t\t\"children\": [{\n\t\t\t\"name\": \"Site Sidebar\",\n\t\t\t\"prevent_delete\": false,\n\t\t\t\"cascades\": true,\n\t\t\t\"children\": [{\n\t\t\t\t\"name\": \"Sidebar Title Area\",\n\t\t\t\t\"prevent_delete\": false,\n\t\t\t\t\"cascades\": false,\n\t\t\t\t\"children\": [{\n\t\t\t\t\t\"name\": \"Toggle sidebar button\",\n\t\t\t\t\t\"prevent_delete\": false,\n\t\t\t\t\t\"type\": \"element\",\n\t\t\t\t\t\"value\": \"IconButton\",\n\t\t\t\t\t\"values\": {\n\t\t\t\t\t\t\"Action\": \"handleDrawerToggle\",\n\t\t\t\t\t\t\"icon\": \"Menu\"\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\t\"name\": \"text\",\n\t\t\t\t\t\"prevent_delete\": false,\n\t\t\t\t\t\"type\": \"element\",\n\t\t\t\t\t\"value\": \"text\",\n\t\t\t\t\t\"collapseStatus\": \"expand\",\n\t\t\t\t\t\"values\": {\n\t\t\t\t\t\t\"Content\": Application.settings.name\n\t\t\t\t\t}\n\t\t\t\t}],\n\t\t\t\t\"type\": \"element\",\n\t\t\t\t\"value\": \"div\",\n\t\t\t\t\"values\": {\n\t\t\t\t\t\"class\": \"classes.SidebarTitle\"\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\t\"name\": \"Site Links\",\n\t\t\t\t\"prevent_delete\": false,\n\t\t\t\t\"children\": [{\n\t\t\t\t\t\"name\": \"navLink\",\n\t\t\t\t\t\"prevent_delete\": false,\n\t\t\t\t\t\"children\": [{\n\t\t\t\t\t\t\"name\": \"text\",\n\t\t\t\t\t\t\"prevent_delete\": false,\n\t\t\t\t\t\t\"cascades\": false,\n\t\t\t\t\t\t\"type\": \"element\",\n\t\t\t\t\t\t\"value\": \"text\",\n\t\t\t\t\t\t\"values\": {\n\t\t\t\t\t\t\t\"Content\": \"Home\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}],\n\t\t\t\t\t\"type\": \"element\",\n\t\t\t\t\t\"value\": \"navLink\",\n\t\t\t\t\t\"values\": {\n\t\t\t\t\t\t\"destination\": \"/\"\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\t\"name\": \"autolinking\",\n\t\t\t\t\t\"prevent_delete\": false,\n\t\t\t\t\t\"cascades\": false,\n\t\t\t\t\t\"type\": \"element\",\n\t\t\t\t\t\"value\": \"autolinking\",\n\t\t\t\t\t\"values\": {\n\t\t\t\t\t\t\"fromLink\": dashboardID\n\t\t\t\t\t}\n\t\t\t\t}],\n\t\t\t\t\"type\": \"element\",\n\t\t\t\t\"value\": \"list\"\n\t\t\t}],\n\t\t\t\"type\": \"element\",\n\t\t\t\"value\": \"sidebar\",\n\t\t\t\"values\": {\n\t\t\t\t\"ColorSchema\": \"Red\",\n\t\t\t\t\"open\": \"sidebarOpen\",\n\t\t\t\t\"handleOpen\": \"handleDrawerToggle\"\n\t\t\t}\n\t\t}, {\n\t\t\t\"name\": \"Aptugo Footer\",\n\t\t\t\"prevent_delete\": false,\n\t\t\t\"cascades\": true,\n\t\t\t\"children\": [{\n\t\t\t\t\"name\": \"div\",\n\t\t\t\t\"prevent_delete\": false,\n\t\t\t\t\"cascades\": false,\n\t\t\t\t\"children\": [{\n\t\t\t\t\t\"name\": \"text\",\n\t\t\t\t\t\"prevent_delete\": false,\n\t\t\t\t\t\"cascades\": false,\n\t\t\t\t\t\"type\": \"element\",\n\t\t\t\t\t\"value\": \"text\",\n\t\t\t\t\t\"collapseStatus\": \"expand\",\n\t\t\t\t\t\"values\": {\n\t\t\t\t\t\t\"Content\": \"Â© Aptugo 2020, All rights reserved\"\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\t\"name\": \"text\",\n\t\t\t\t\t\"prevent_delete\": false,\n\t\t\t\t\t\"cascades\": false,\n\t\t\t\t\t\"type\": \"element\",\n\t\t\t\t\t\"value\": \"text\",\n\t\t\t\t\t\"collapseStatus\": \"expand\",\n\t\t\t\t\t\"values\": {\n\t\t\t\t\t\t\"Content\": \"<div className={classes.madewithaptugo}><div><div>Proudly made with<div>Aptugo</div></div></div></div>\"\n\t\t\t\t\t}\n\t\t\t\t}],\n\t\t\t\t\"type\": \"element\",\n\t\t\t\t\"value\": \"div\",\n\t\t\t\t\"collapseStatus\": \"expand\",\n\t\t\t\t\"values\": {\n\t\t\t\t\t\"class\": \"classes.footer\"\n\t\t\t\t}\n\t\t\t}],\n\t\t\t\"type\": \"element\",\n\t\t\t\"value\": \"div\",\n\t\t\t\"collapseStatus\": \"expand\",\n\t\t\t\"values\": {\n\t\t\t\t\"class\": \"sidebarOpen ? classes.footerWithSidebarOpen : classes.footerWithSidebarClosed\"\n\t\t\t}\n\t\t}]\n\t}, {\n\t\t\"name\": \"Page Footer\",\n\t\t\"type\": \"element\",\n\t\t\"value\": \"pf\",\n\t\t\"prevent_delete\": true\n\t}, {\n\t\t\"name\": \"After Page Render\",\n\t\t\"type\": \"element\",\n\t\t\"value\": \"apr\",\n\t\t\"prevent_delete\": true\n\t}, {\n\t\t\"name\": \"Dashboard\",\n\t\t\"unique_id\": dashboardID,\n\t\t\"type\": \"page\",\n\t\t\"path\": \"/\",\n\t\t\"filename\": \"dashboard.tsx\",\n\t\t\"prevent_delete\": false,\n\t\t\"children\": [{\n\t\t\t\"name\": \"Before Page Render\",\n\t\t\t\"type\": \"element\",\n\t\t\t\"value\": \"bpr\",\n\t\t\t\"prevent_delete\": true,\n\t\t\t\"cascades\": false,\n\t\t\t\"children\": []\n\t\t}, {\n\t\t\t\"name\": \"Page Header\",\n\t\t\t\"type\": \"element\",\n\t\t\t\"value\": \"ph\",\n\t\t\t\"prevent_delete\": true\n\t\t}, {\n\t\t\t\"name\": \"Body\",\n\t\t\t\"type\": \"element\",\n\t\t\t\"value\": \"b\",\n\t\t\t\"prevent_delete\": true,\n\t\t\t\"children\": [{\n\t\t\t\t\"name\": \"div\",\n\t\t\t\t\"prevent_delete\": false,\n\t\t\t\t\"children\": [{\n\t\t\t\t\t\"name\": \"div - Hello Text\",\n\t\t\t\t\t\"prevent_delete\": false,\n\t\t\t\t\t\"cascades\": false,\n\t\t\t\t\t\"children\": [{\n\t\t\t\t\t\t\"name\": \"typography\",\n\t\t\t\t\t\t\"prevent_delete\": false,\n\t\t\t\t\t\t\"cascades\": false,\n\t\t\t\t\t\t\"children\": [{\n\t\t\t\t\t\t\t\"name\": \"text\",\n\t\t\t\t\t\t\t\"prevent_delete\": false,\n\t\t\t\t\t\t\t\"cascades\": false,\n\t\t\t\t\t\t\t\"children\": [],\n\t\t\t\t\t\t\t\"type\": \"element\",\n\t\t\t\t\t\t\t\"value\": \"text\",\n\t\t\t\t\t\t\t\"collapseStatus\": \"expand\",\n\t\t\t\t\t\t\t\"values\": {\n\t\t\t\t\t\t\t\t\"Content\": \"Hello!\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}],\n\t\t\t\t\t\t\"type\": \"element\",\n\t\t\t\t\t\t\"value\": \"typography\",\n\t\t\t\t\t\t\"collapseStatus\": \"collapse\",\n\t\t\t\t\t\t\"values\": {\n\t\t\t\t\t\t\t\"tag\": \"h1\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}, {\n\t\t\t\t\t\t\"name\": \"typography\",\n\t\t\t\t\t\t\"prevent_delete\": false,\n\t\t\t\t\t\t\"cascades\": false,\n\t\t\t\t\t\t\"children\": [{\n\t\t\t\t\t\t\t\"name\": \"text\",\n\t\t\t\t\t\t\t\"prevent_delete\": false,\n\t\t\t\t\t\t\t\"cascades\": false,\n\t\t\t\t\t\t\t\"children\": [],\n\t\t\t\t\t\t\t\"type\": \"element\",\n\t\t\t\t\t\t\t\"value\": \"text\",\n\t\t\t\t\t\t\t\"collapseStatus\": \"expand\",\n\t\t\t\t\t\t\t\"values\": {\n\t\t\t\t\t\t\t\t\"Content\": \"I'm your Aptugo application\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}],\n\t\t\t\t\t\t\"type\": \"element\",\n\t\t\t\t\t\t\"value\": \"typography\",\n\t\t\t\t\t\t\"collapseStatus\": \"collapse\",\n\t\t\t\t\t\t\"values\": {\n\t\t\t\t\t\t\t\"tag\": \"body1\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}, {\n\t\t\t\t\t\t\"name\": \"text\",\n\t\t\t\t\t\t\"prevent_delete\": false,\n\t\t\t\t\t\t\"cascades\": false,\n\t\t\t\t\t\t\"children\": [],\n\t\t\t\t\t\t\"type\": \"element\",\n\t\t\t\t\t\t\"value\": \"text\",\n\t\t\t\t\t\t\"collapseStatus\": \"expand\",\n\t\t\t\t\t\t\"values\": {\n\t\t\t\t\t\t\t\"Content\": \"<span>(you can edit me at the Page Manager)</span>\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}],\n\t\t\t\t\t\"type\": \"element\",\n\t\t\t\t\t\"value\": \"div\",\n\t\t\t\t\t\"collapseStatus\": \"expand\",\n\t\t\t\t\t\"values\": {\n\t\t\t\t\t\t\"class\": \"classes.bigHello\"\n\t\t\t\t\t}\n\t\t\t\t}],\n\t\t\t\t\"type\": \"element\",\n\t\t\t\t\"value\": \"div\",\n\t\t\t\t\"values\": {\n\t\t\t\t\t\"class\": \"sidebarOpen ? classes.withSidebarOpen : classes.withSidebarClosed\"\n\t\t\t\t}\n\t\t\t}]\n\t\t}, {\n\t\t\t\"name\": \"Page Footer\",\n\t\t\t\"type\": \"element\",\n\t\t\t\"value\": \"pf\",\n\t\t\t\"prevent_delete\": true,\n\t\t\t\"cascades\": false\n\t\t}, {\n\t\t\t\"name\": \"After Page Render\",\n\t\t\t\"type\": \"element\",\n\t\t\t\"value\": \"apr\",\n\t\t\t\"prevent_delete\": true\n\t\t}]\n\t}],\n\t\"path\": \"\",\n\t\"parent\": false\n}]\n\nApplication.tables = []\n\nreturn Application","Created_date":{"$date":"2020-03-28T10:49:58.013Z"},"__v":0,"desc":"Start with an empty application ","icon":"public/img/database.png","type":"template","parameters":"Name","afterRun":"/DbDesigner"}