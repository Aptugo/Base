{"_id":"5f7b8c4b498ed2ff91c6d3ca","type":"structure","parameters":"asset","afterRun":"","Created_date":{"$date":"2020-10-05T21:12:43.630Z"},"__v":0,"desc":"Adds and Updates assets","name":"Update Asset","code":"return Application","initScript":"console.log(Parameters, 'params')\n\nconst existing = Application.assets.find(asset => asset.id === Parameters.asset.id)\nconsole.log(existing)\nif (existing) {\n    console.log('exists', Parameters)\n    var foundIndex = Application.assets.findIndex(asset => asset.id == Parameters.asset.id)\n    Application.assets[foundIndex] = Parameters.asset\n} else {\n    const newAsset = {\n        type: 'image',\n        id: Parameters.asset._id,\n        name: Parameters.asset.source.name\n    } \n\n    if (Parameters.type === 'stylesheetAsset') {\n        newAsset.type = 'stylesheet'\n    }\n\n    Application.assets.push(newAsset)\n}\n\nreturn Application","post_initScript":"return Application"}